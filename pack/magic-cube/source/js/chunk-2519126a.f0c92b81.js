(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2519126a"],{"7f7f":function(e,t,s){var o=s("86cc").f,a=Function.prototype,n=/^\s*function ([^ (]*)/,r="name";r in a||s("9e1e")&&o(a,r,{configurable:!0,get:function(){try{return(""+this).match(n)[1]}catch(e){return""}}})},eeaa:function(e,t,s){"use strict";s.r(t);var o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div")},a=[],n=(s("7f7f"),s("775b")),r={data:function(){return{APP_NAME:APP_NAME,titleName:"",chooseNum:"教职工",userRole:"",isChecked:!1,studentNo:"",phoneNo:"",shxym:"",teacherRoles:[],pass:!1,teacherNo:"",password:""}},mounted:function(){var e=this.$route.query.u,t=this.$route.query.p;void 0!=e&&void 0!=t&&(this.teacherNo=e,this.password=t,this.pass=!0,this.loginButton())},methods:{roles:function(e){this.chooseNum=e,sessionStorage.setItem("user",e),this.phoneNo="",this.studentNo="",this.teacherNo="",this.password=""},loginImg:function(){this.$router.push({path:"/head"})},loginButton:function(){var e={schoolCode:n["i"],username:this.teacherNo,password:this.password};"教职工"==this.chooseNum?e.username=this.teacherNo:"学生"==this.chooseNum&&(e.username=this.studentNo);var t={sysUserEntity:e,proId:n["h"]};this.$HTTP.api({root:n["c"],url:"/login/toLogin",method:"POST",params:t,successCallback:function(e){0==e.code?(window.localStorage.setItem("name",e.data.name),window.localStorage.setItem("username",e.data.username),window.localStorage.setItem("schoolCode",e.data.schoolCode),window.localStorage.setItem("userId",e.data.userId),window.localStorage.setItem("token",e.data.token),window.localStorage.setItem("userType",e.data.userType),this.pwdChecked?window.localStorage.setItem("userInfo",JSON.stringify(t)):window.localStorage.removeItem("userInfo"),this.getMenu()):this.$message({type:"error",message:e.msg})}.bind(this)})},getMenu:function(){this.$HTTP.api({root:n["c"],url:"/api/sys/sysmenu/getMenuTree/"+n["h"],method:"POST",successCallback:function(e){console.log(e),0==e.code?(window.localStorage.setItem("menuTrees",JSON.stringify(e.data)),this.pass?this.$router.push({path:"/head/page/collect/indexSjcjCwys"}):this.$router.push({path:"/head"})):this.$message({type:"error",message:e.msg})}.bind(this)})}}},i=r,u=s("2877"),h=Object(u["a"])(i,o,a,!1,null,null,null);t["default"]=h.exports}}]);